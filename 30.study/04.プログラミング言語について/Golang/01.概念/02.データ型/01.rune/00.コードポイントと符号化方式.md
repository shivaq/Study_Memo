## code point とは
* a という文字はUnicodeでu+0041と表される。(16進数で0041という値と対応づけられている)
* 上記の値はcode point、別名code positionと呼ばれていて、文字コード表の中の位置=pointを指し示す



## 符号化方式とは
* 41とか1F601とかいったcode pointの値をコンピュータが扱うデータ形式に置き換えるための規則




* 方式によってcode pointを何byte単位で扱うかが異なってくる。
* Goでは符号化方式としてUTF-8を使用
* Javascript の場合は UTF-16（2byte単位）で文字列処理をする。
 →絵文字のような4bytes 文字にインデックスでアクセスすると、文字化けする



## UTF-8 について
* UTF-8では1byteから4byteの可変長データでcode pointを置換する。
* 数字やアルファベットのような広く使われている文字は1byteになる
* Unicodeに後から追加された絵文字なんかは4byteになる。



## Unicode
* かつて世界はシンプルだった。全てのッッ!!文字は ASCII で表現できた。
* やがて、いろんな言語がコンピュータ上で表示される事を要求するようになった。
* どうやって？ →Unicode を使って。
* 世界中の writing systems の文字と、アクセント等の記号、Tab や改行 などなどに対し、標準番号を割り当てることになった。
* 上記標準番号を Unicode code point または、Go の用語で表現では rune







## Unicode version 8
* ほとんどのコンピュータ上の文字列は ASCII を使っている。必要なデータサイズが 8bit または一文字あたり 1 byte.


* 下記はともに同じ文字の別表現
```go
"世界"
"\xe4\xb8\x96\xe7\x95\x8c"
"\u4e16\u754c"
"\U00004e16\U0000754c"
```





```go
'世'
'\u4e16'
'\U00004e16'
```









## String と byte と UTF-8
* stringにインデックスでアクセスしたときに得られるbyte値は文字コードをUTF-8で1byteごとに区切った値
* あ にインデックスでアクセスすると、下記の通り



```go
s := "あ"
for i := 0; i < len(s); i++ {
    fmt.Printf("% x", s[i]) // あ   のUTF-8 表現 →e3 81 82
}
```
* 上記のように、文字によって何 bytes で表現されているかは異なる
