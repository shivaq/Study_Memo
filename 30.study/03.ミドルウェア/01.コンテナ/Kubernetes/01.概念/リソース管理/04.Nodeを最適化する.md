# 動かして、観察してみる
- 実際の需要の条件下で
- 特定の workloads に対して

## CPU 使用率を見る
- `kubectl top nodes` で。またはダッシュボードで。
- CPU使用率が多いほど、使用効率がよいことになる
- 小さめノードより大きめノードのほうが使用効率がよいのであれば、そちらにノードを変更したほうが良いと判断できる
- 大きめノードの使用効率が悪ければ、小さめノードに変更したほうがよいと判断できる


## ノードが小さくなるほど、ノードのOS部分のリソース消費オーバーヘッドの割合が大きくなる
- コンテナ の消費だけでなく、OSがCPU、メモリ、ディスクを必要とする
- ノードが小さいと、細切れになったリソース(小さすぎてPodは使わない)の % も大きくなる
- ノードが大きいほうが、コストエフェクティブだが、ノード障害時の影響範囲は大きくなる

## ノードサイズの目安
- 典型的なPod が少なくとも 5 つ動かせるサイズであること
- stranded resources が 10% くらいに抑えられていること
- 10 以上の Pod を動かす場合、stranded resources は 5% 以下であること
- ベストプラクティスとしては、10から100Pod per node


