## VM とは
* コンピュータのエミュレーション。実際のコンピュータと同じように動く。
* VM は 自分専用 OS を持つ
* ハイパーバイザがゲストOSの管理と実行に重要な役割を担う
* ハイパーバイザが、ホストのリソースをVM間でシェアすることを実現している



## VM は なにでできているか

### 物理コンピュータ(ホストマシーン)
* VM は ハイパーバイザを使った 物理コンピュータ(ホストマシーン)上で動く。
* ホストマシーンは VM にRAM や CPU などのリソースを提供する
* ホストマシーンのリソースは、VM 間でシェアされる

### ハイパーバイザー
* ハイパーバイザはソフトウェア、もしくはVMが走っている HW を指す場合もある

### VM
* ゲストマシーンとも呼ばれる
* 仮想化されたHWスタック(仮想NWアダプタ、ストレージ、CPU)を持つ
* 自前の OS を有する
* アプリと、それにひつようなものどもが含まれる(システムバイナリ、ライブラリ)




# VM の使い方には2つのタイプがある

### HW と ハイパーバイザの間に OS がいる場合の VM
* ホストマシーンのOS上で動くハイパーバイザ
* VM が HW にアクセスする場合は OS 経由
* HW はさほど重要じゃない
-------------------------------------------------
* pros
* ホストのOSはHWドライバに責任を持つ。
* ホストのOSはハイパーバイザーに責任を持たない。
* よって、HW の互換性が柔軟
-------------------------------------------------
* cons
* HW と ハイパーバイザ間に 追加の OS レイヤがあるため、オーバーヘッドが生じる



### HW 直乗せハイパーバイザの VM
* ホストOSは存在しない
* HW上にハイパーバイザが乗っている
* ホストマシーンに最初にOSとしてインストールされるのが、ハイパーバイザとなる。
* ベアメタルハイパーバイザは、自身のデバイスドライバを持ち、HWに直接アクセスできる
-------------------------------------------------
* pros
* パフォーマンス上の余計なオーバーヘッドがない
* 拡張性が高い。
* 安定性が高い。
---
* cons
* 互換性に制限がある。
