## ▼ こういうのがマイクロサービス。。。というわけじゃない!

### A microservice is not a service that has a small number of lines of code or does “micro” tasks

* マイクロサービスアーキテクチャ のゴールはできるだけたくさんの小さなサービスをつくることじゃない。
* サービスは複雑で、中身が充実していても良い。3つの規律に従っている限り。

### A microservice is not a service that is built with new technology all the time.

* マイクロサービスは、新しい技術を簡単にテストできる。
* 疎結合なサービスの良さが活かせるのであれば、既存の技術を使っても全く問題ない

### A microservice is not a service that has to be built from scratch.

* すでによく設計されたモノリスティックなアプリがあるならば、すべてのサービスをスクラッチから作る、みたいな週間は避けましょう
* モノリスティックなサービスからロジックを抽出することだってあるだろう。3つの規律に従ってさえばよいのだ





## ▼ Why now? という問いが、優先順位付けのために効果的なのだ。Medium チームはそう考える

* なぜ今か。Node.jsのモノリスティックなアプリが色んな面でボトルネックになりつつあるから

## こんなときはマイクロサービスにしたらいかが？
* 大量の独立したタスクを行う複雑なアプリ
* 複数人によってメンテされる
* 大量のデータをさばく

## ▼ MicroService を選ぶ理由
### 一番緊急で重要なボトルネックがパフォーマンスの場合

* computational heavy and I/O heavy なタスクは Node.js にはフィットしない
* よりよい製品を作ろうとすると、すでに遅いアプリを更に遅くすることになる

### モノリティックなアプリの、重要で、ある程度緊急なボトルネックが、開発が遅くなっていることの場合

* 全エンジニアが単一のアプリに対して、密結合なフィーチャーを作り込む
* システムの一部を変更するにも、鈍重
* 大きな変更は、どんな影響があるか予測できないし、怖い
* アプリ全体がひとかたまりとしてデプロイされるため、悪いコミットが一つでもあれば、デプロイが失速する。
* 一方、**マイクロサービスなら？**
* デプロイして、学んで、イテレートして、のサイクルがずっと早い
* 他の複雑なシステムから疎結合なフィーチャーに集中することができる
* 本番リリースまでがずっと早い。
* 大きな変更を安全に行える柔軟性がある
* Medium のマイクロサービスアーキテクチャでは、商用への変更が1時間以内に行えて、エンジニアはシステムの他の部分への影響を心配する必要もない
* 本番データを開発環境で安全に使う方法を色々探っている。何年もの間、そんなことは daydream だった。
* チームの成長力を考えると、上記マイクロサービスの特徴はすごく重要

### モノリシックなアプリのシステムのスケールアップが、ある特定のタスクのためにスケールアップ困難になっている場合、または isolate resource concerns for different types of tasks.

* 単一のモノリスティックなアプリでは、システム全体をスケールアップ/ダウンするにも、リソース貧乏な感じで行わなければならない。シンプルなタスクの場合でも、プロビジョン過剰になる感じ
* 上記軽減するため、異なるタイプのリクエストを、隔離した Node.js プロセスたちで共有したりした
* 上記ある程度効果はあったが、スケールできない。モノリスティックサービスをマイクロサービス化したところで、密結合だから。

### 重要かついずれ緊急となるボトルネックが、新しい技術を試すことが妨げられていること、である場合

* マイクロサービスは、各サービスが異なる具術スタックで構築され、異なる技術で統合されたりする。
* 上記結果、各ジョブにとってのベストなツールを選べる。
* 上記をすばやく、安全に行うことができるM
